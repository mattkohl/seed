{% extends "base.html" %}
{% block title %}{{ query }} ⋅ the Right Rhymes ⋅ Hip-Hop Slang Defined{% endblock %}

{% block search_navigation %}
{% include "ui/_search.html" %}
{% endblock %}


{% block content %}
<div class="container search_results">
    <div class="h1">{{ results|length }} results found for "{{ query }}"</div>
        {% for result in results %}
            <div class="h5{% if result.dateMatch == False %} date-check{% endif %}">
              <div class="tag">&lt;example <span class="attribute">id="<a href="{{ url_for('ui.get_song', song_id=result.id) }}?q={{ query }}" target="_blank">{{result.id}}</a>"</span>&gt;</div>
                <div class="indentTag">
                    <span class="tag">&lt;date&gt;</span>{{ result.releaseDate }}<span class="tag">&lt;/date&gt;</span>
                </div>
                <div class="indentTag">
                    {% if result.artist.origin %}
                    <span class="tag">&lt;artist <span class="attribute">origin="{{ result.artist.origin }}"</span>&gt;</span>{{ result.artist.name.replace('&', '&amp;') }}<span class="tag">&lt;/artist&gt;</span>
                    {% else %}
                    <span class="tag">&lt;artist&gt;</span>{{ result.artist.name.replace('&', '&amp;') }}<span class="tag">&lt;/artist&gt;</span>
                    {% endif %}
                </div>
                <div class="indentTag">
                    <span class="tag">&lt;songTitle&gt;</span>{{ result.songTitle.replace('&', '&amp;') }}<span class="tag">&lt;/songTitle&gt;</span>
                </div>
                {% if result.feat %}
                    {% for f in result.feat %}
                        <div class="indentTag">
                            {% if f.origin %}
                            <span class="tag">&lt;feat <span class="attribute">origin="{{f.origin}}"</span>&gt;</span>{{ f.name.replace('&', '&amp;') }}<span class="tag">&lt;/feat&gt;</span>
                            {% else %}
                            <span class="tag">&lt;feat&gt;</span>{{ f.name }}<span class="tag">&lt;/feat&gt;</span>
                            {% endif %}
                        </div>
                    {% endfor %}
                {% endif %}
                <div class="indentTag">
                    <span class="tag">&lt;album&gt;</span>{{ result.album.replace('&', '&amp;') }}<span class="tag">&lt;/album&gt;</span>
                </div>
                {% for lyric in result.lyrics %}
                    <div class="indentTag"><span class="tag">&lt;lyric&gt;</span>{{ lyric|replace(query, "<span class='query'>" + query + "</span>")|safe }}<span class="tag">&lt;/lyric&gt;</span></div>
                {% endfor %}
                <span class="tag">&lt;/example&gt;</span>
            </div>


        {% endfor %}

</div>
{% endblock %}